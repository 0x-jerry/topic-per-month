import{b as n}from"./app.d30f2db1.js";import{D as e,o as a,c as t,a as s,e as r,m as l,g as o,s as i}from"./vendor.446251b2.js";const p={class:"markdown-body"},u=o('<p>本文尝试分享一下「微前端」这个概念，以及目前（2021-06-01）主要的几种实现方案。</p><p><div class="table-of-contents"><ul><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BE%AE%E5%89%8D%E7%AB%AF%EF%BC%9F"> 什么是微前端？</a></li><li><a href="#%E9%82%A3%E4%B9%88%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%88%B0%E5%BA%95%E8%A7%A3%E5%86%B3%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%9F"> 那么微前端到底解决的是什么问题？</a></li><li><a href="#%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E8%BF%99%E4%BA%9B%E9%97%AE%E9%A2%98%E7%9A%84%EF%BC%9F"> 微前端怎么解决这些问题的？</a><ul><li><a href="#npm-package-%2F-git-submodule"> npm package / git submodule</a></li><li><a href="#iframe"> iframe</a></li><li><a href="#micro-frontend-%E6%A1%86%E6%9E%B6"> micro frontend 框架</a></li></ul></li><li><a href="#%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E4%BD%93%E9%AA%8C"> 微前端框架体验</a><ul><li><a href="#luigi"> Luigi</a></li><li><a href="#emp"> EMP</a></li><li><a href="#single-spa"> Single-SPA</a></li><li><a href="#qiankun"> QianKun</a></li><li><a href="#%E5%B0%8F%E7%BB%93"> 小结</a></li></ul></li><li><a href="#%E5%BE%AE%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98"> 微前端需要解决的问题</a><ul><li><a href="#%E6%9C%8D%E5%8A%A1%E6%9B%B4%E6%96%B0%E9%97%AE%E9%A2%98"> 服务更新问题</a></li><li><a href="#%E9%80%9A%E4%BF%A1%E9%97%AE%E9%A2%98"> 通信问题</a></li><li><a href="#%E6%A0%B7%E5%BC%8F%E9%9A%94%E7%A6%BB%E9%97%AE%E9%A2%98"> 样式隔离问题</a></li><li><a href="#%E7%8E%AF%E5%A2%83%E9%9A%94%E7%A6%BB%E9%97%AE%E9%A2%98"> 环境隔离问题</a></li></ul></li><li><a href="#%E9%9C%80%E8%A6%81%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%90%97%EF%BC%9F"> 需要微前端吗？</a></li><li><a href="#%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB"> 推荐阅读</a></li><li><a href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"> 参考文献</a></li></ul></div></p>',2),c={id:"%E4%BB%80%E4%B9%88%E6%98%AF%E5%BE%AE%E5%89%8D%E7%AB%AF%EF%BC%9F",tabindex:"-1"},d=i("#"),f=i(" 什么是微前端？"),h=i("引用一句 "),k=i("micro-frontends"),b=i(" 的一句话"),E=o("<blockquote><p>Techniques, strategies and recipes for building <strong>a modern web app</strong> with <strong>multiple teams</strong> that can <strong>ship features independently</strong>.</p></blockquote><p>简单翻译一下，大概意思是：用技术、策略和方法隔离不同 <strong>团队</strong> 开发的 <strong>功能</strong>，并构建 <strong>现代化的 web 应用</strong>。</p><p>经常有听到「微前端框架」这个词，那「微前端」是一门技术？不，微前端并不是一门技术，微前端仅仅是一种手段，通过制定一些标准，合作开发这个项目的团队都遵守这些标准。再通过这些标准整合起来的架构，也就成了「微前端」。</p>",3),g={id:"%E9%82%A3%E4%B9%88%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%88%B0%E5%BA%95%E8%A7%A3%E5%86%B3%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%9F",tabindex:"-1"},m=i("#"),A=i(" 那么微前端到底解决的是什么问题？"),_=s("p",null,"想想我最初接触微前端，还是第一份正式工作的时候，当时是在一个创业公司，刚刚成立几个月。我进去的时候，公司有两个应用，一个 A 应用，一个 B 应用，分别对应两个域名。现在公司想做整合，把两个应用的功能整合在一起，组合起来，举个栗子。A 应用有两个页面，分别是 A-1，A-2。现在 B 应用，想要 A-1 这个功能，也就是这个页面，而且想要保持同步更新，也就是，只发布一次，就能同时更新 A 应用中的 A-1 和 B 应用中的 A-1。",-1),w=s("p",null,"当时的想法比较简单，因为公司用的 vue 框架，而 vue 组件可以打包成一个 js 文件。所以，一个简单的做法，就是把 A 应用中所有功能做成组件，然后打包成一个 js 文件，然后在 B 应用中，引用这个 js 文件，取其中的 A-1 组件，这样也就解决了问题。",-1),B=s("p",null,"其中核心的代码，大概是这样：",-1),S=s("div",{class:"language-ts line-numbers-mode"},[s("pre",null,[s("code",{"v-pre":""},[s("span",{class:"token comment"},'// <script src="//xxx.A.js"/>'),i("\n"),s("span",{class:"token keyword"},"const"),i(),s("span",{class:"token punctuation"},"{"),i(),s("span",{class:"token constant"},"A1"),i(),s("span",{class:"token punctuation"},"}"),i(),s("span",{class:"token operator"},"="),i(" window"),s("span",{class:"token punctuation"},"."),i("_A\n\n"),s("span",{class:"token keyword"},"export"),i(),s("span",{class:"token keyword"},"const"),i(" routes "),s("span",{class:"token operator"},"="),i(),s("span",{class:"token punctuation"},"["),i("\n  "),s("span",{class:"token punctuation"},"{"),i("\n    path"),s("span",{class:"token operator"},":"),i(),s("span",{class:"token string"},"'/a-1'"),s("span",{class:"token punctuation"},","),i("\n    component"),s("span",{class:"token operator"},":"),i(),s("span",{class:"token constant"},"A1"),s("span",{class:"token punctuation"},","),i("\n  "),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),i("\n"),s("span",{class:"token punctuation"},"]"),i("\n")])]),s("div",{class:"line-numbers-wrapper"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br")])],-1),y=s("p",null,"从这个栗子中，可以看到，解决的问题也就是：如何在一个应用中引入一个不需要自己维护的能力或者功能。",-1),F=s("p",null,"进而拓展一下，可以理解成，我简单写一个模板，然后配置其中每个模块的功能，这样，一个应用就完成了。每个模板的功能，都交由不同的团队去维护。如果能实现这样的一个工具，那么就能大大的缩短一款产品的开发成本（想想就开心，做梦真好）。",-1),x=i("在写这片文章的时候，有幸读到 "),j=i("微前端的核心价值"),C=i("。"),P=s("p",null,"文中用了一整个章节来讨论「微前端」的价值，我简单的总结一下文中的概念，大致是：「微前端」解决的是如何让一个应用存活 3-5 年之后，开发者还能继续为其赋能，就像文章结尾所讲。",-1),v=s("blockquote",null,[s("p",null,"那么微前端的使命我认为是：「让天下没有短命的控制台」。")],-1),D=s("p",null,"至此，我想，你应该大致对「微前端」有了一个了解。接下来就我们就唠嗑一下怎么解决这些问题。",-1),q={id:"%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E8%BF%99%E4%BA%9B%E9%97%AE%E9%A2%98%E7%9A%84%EF%BC%9F",tabindex:"-1"},L=i("#"),T=i(" 微前端怎么解决这些问题的？"),M=s("p",null,"微前端，可看作是「微服务」派生出来的一个概念。也有点像 OOP(Object-Oriented Programing) 中的单一原则（Single Responsibility Principle），一个类、方法只做一件事情。",-1),O=s("p",null,"讲到一件事情，我们就不得不分析业务，把业务剥离开来，抽成一个一个的服务。然后再通过一些技术手段，来整合不同的服务。",-1),U=s("p",null,"先简单分享一下我想到的几种方式：",-1),W=s("ol",null,[s("li",null,"用 npm package / git submodule 来管理"),s("li",null,"用 iframe 加载"),s("li",null,"开发 micro frontend 框架")],-1),K={id:"npm-package-%2F-git-submodule",tabindex:"-1"},Q=i("#"),V=i(" npm package / git submodule"),I=s("p",null,"这种方式，用起来就比较简单，就和用普通的 js 模块一样，除了分离出代码，没有任何其它优势。",-1),G={id:"iframe",tabindex:"-1"},$=i("#"),z=i(" iframe"),R=s("p",null,"因为 iframe 的特性，天然的隔离性，优势也比较明显：运行环境隔离、独立发布。但同时缺点也很多：加载慢，性能堪忧、隔离性太强，以至于 会话状态共享都成了一个问题。",-1),N=s("p",null,"整体思考下来，iframe 除了隔离性好之外，也没有什么优势。",-1),H={id:"micro-frontend-%E6%A1%86%E6%9E%B6",tabindex:"-1"},J=i("#"),Y=i(" micro frontend 框架"),Z=s("p",null,"框架就有很多啦，不同的框架，优势也各不相同。我选了三个不同的轮子，简单的捋一捋里面的原理。",-1),X=i("Luigi: "),nn=i("https://github.com/SAP/luigi"),en=i(" ，利用 iframe 构建的微服务框架"),an=i("EMP: "),tn=i("https://github.com/efoxTeam/emp"),sn=i(" ，使用 webpack5 的 module federation 技术"),rn=i("Single-SPA: "),ln=i("https://github.com/Single-SPA/Single-SPA"),on=i(" ，路由框架"),pn=i("qiankun: "),un=i("https://github.com/umijs/qiankun"),cn=i(" ，建立在 Single-SPA 之上的解决方案"),dn=s("p",null,"接下来，就看看不同框架之间的优劣。",-1),fn={id:"%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E4%BD%93%E9%AA%8C",tabindex:"-1"},hn=i("#"),kn=i(" 微前端框架体验"),bn=s("p",null,"简单的写写每个框架的处理方式，不一定全对，但一定不会全错 😃。",-1),En={id:"luigi",tabindex:"-1"},gn=i("#"),mn=i(" Luigi"),An=i("先看看 "),_n=i("Luigi"),wn=i("，一个利用 "),Bn=s("code",null,"iframe",-1),Sn=i(" 构建的后台微服务框架。可看作是一个路由框架，主要用于构建后台配置页面。"),yn=i("通过 "),Fn=s("code",null,"Luigi.setConfig",-1),xn=i(" API 来配置网站的路由、授权、导航、本地化等。然后 "),jn=i("Luigi"),Cn=i(" 框架通过 "),Pn=s("code",null,"iframe",-1),vn=i(" 切换不同的路由。"),Dn=i("消息机制也是通过 "),qn=s("code",null,"window.postMessage",-1),Ln=i(" 实现，源代码 "),Tn=i("source"),Mn=s("div",{class:"language-js line-numbers-mode"},[s("pre",null,[s("code",{"v-pre":""},[i("  "),s("span",{class:"token function"},"sendPostMessageToLuigiCore"),s("span",{class:"token punctuation"},"("),s("span",{class:"token parameter"},"msg"),s("span",{class:"token punctuation"},")"),i(),s("span",{class:"token punctuation"},"{"),i("\n    "),s("span",{class:"token keyword"},"if"),i(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),i("origin"),s("span",{class:"token punctuation"},")"),i(),s("span",{class:"token punctuation"},"{"),i("\n      window"),s("span",{class:"token punctuation"},"."),i("parent"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"postMessage"),s("span",{class:"token punctuation"},"("),i("msg"),s("span",{class:"token punctuation"},","),i(),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),i("origin"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),i("\n    "),s("span",{class:"token punctuation"},"}"),i(),s("span",{class:"token keyword"},"else"),i(),s("span",{class:"token punctuation"},"{"),i("\n      console"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"warn"),s("span",{class:"token punctuation"},"("),i("\n        "),s("span",{class:"token string"},"'There is no target origin set. You can specify the target origin by calling LuigiClient.setTargetOrigin(\"targetorigin\") in your micro frontend.'"),i("\n      "),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),i("\n    "),s("span",{class:"token punctuation"},"}"),i("\n  "),s("span",{class:"token punctuation"},"}"),i("\n")])]),s("div",{class:"line-numbers-wrapper"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br")])],-1),On=i("路由也是通过封装的 "),Un=s("code",null,"LuigiClient.linkManager",-1),Wn=i("、"),Kn=s("code",null,"Luigi.navigation",-1),Qn=i(" 来管理跳转，实际原理也是通过发送消息来实现的，源代码 "),Vn=i("source"),In=s("div",{class:"language-js line-numbers-mode"},[s("pre",null,[s("code",{"v-pre":""},[i("  "),s("span",{class:"token function"},"navigate"),s("span",{class:"token punctuation"},"("),s("span",{class:"token parameter"},[i("path"),s("span",{class:"token punctuation"},","),i(" sessionId"),s("span",{class:"token punctuation"},","),i(" preserveView"),s("span",{class:"token punctuation"},","),i(" modalSettings"),s("span",{class:"token punctuation"},","),i(" splitViewSettings"),s("span",{class:"token punctuation"},","),i(" drawerSettings")]),s("span",{class:"token punctuation"},")"),i(),s("span",{class:"token punctuation"},"{"),i("\n    "),s("span",{class:"token keyword"},"if"),i(),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),i("options"),s("span",{class:"token punctuation"},"."),i("errorSkipNavigation"),s("span",{class:"token punctuation"},")"),i(),s("span",{class:"token punctuation"},"{"),i("\n      "),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),i("options"),s("span",{class:"token punctuation"},"."),i("errorSkipNavigation "),s("span",{class:"token operator"},"="),i(),s("span",{class:"token boolean"},"false"),s("span",{class:"token punctuation"},";"),i("\n      "),s("span",{class:"token keyword"},"return"),s("span",{class:"token punctuation"},";"),i("\n    "),s("span",{class:"token punctuation"},"}"),i("\n    "),s("span",{class:"token keyword"},"if"),i(),s("span",{class:"token punctuation"},"("),i("modalSettings "),s("span",{class:"token operator"},"&&"),i(" splitViewSettings "),s("span",{class:"token operator"},"&&"),i(" drawerSettings"),s("span",{class:"token punctuation"},")"),i(),s("span",{class:"token punctuation"},"{"),i("\n      console"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"warn"),s("span",{class:"token punctuation"},"("),i("\n        "),s("span",{class:"token string"},"'modalSettings, splitViewSettings and drawerSettings cannot be used together. Only modal setting will be taken into account.'"),i("\n      "),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),i("\n    "),s("span",{class:"token punctuation"},"}"),i("\n\n    "),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),i("options"),s("span",{class:"token punctuation"},"."),i("preserveView "),s("span",{class:"token operator"},"="),i(" preserveView"),s("span",{class:"token punctuation"},";"),i("\n    "),s("span",{class:"token keyword"},"const"),i(" relativePath "),s("span",{class:"token operator"},"="),i(" path"),s("span",{class:"token punctuation"},"["),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},"]"),i(),s("span",{class:"token operator"},"!=="),i(),s("span",{class:"token string"},"'/'"),s("span",{class:"token punctuation"},";"),i("\n    "),s("span",{class:"token keyword"},"const"),i(" hasIntent "),s("span",{class:"token operator"},"="),i(" path"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"toLowerCase"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"includes"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'?intent='"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),i("\n    "),s("span",{class:"token keyword"},"const"),i(" navigationOpenMsg "),s("span",{class:"token operator"},"="),i(),s("span",{class:"token punctuation"},"{"),i("\n      msg"),s("span",{class:"token operator"},":"),i(),s("span",{class:"token string"},"'luigi.navigation.open'"),s("span",{class:"token punctuation"},","),i("\n      sessionId"),s("span",{class:"token operator"},":"),i(" sessionId"),s("span",{class:"token punctuation"},","),i("\n      params"),s("span",{class:"token operator"},":"),i(" Object"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"assign"),s("span",{class:"token punctuation"},"("),s("span",{class:"token keyword"},"this"),s("span",{class:"token punctuation"},"."),i("options"),s("span",{class:"token punctuation"},","),i(),s("span",{class:"token punctuation"},"{"),i("\n        link"),s("span",{class:"token operator"},":"),i(" path"),s("span",{class:"token punctuation"},","),i("\n        relative"),s("span",{class:"token operator"},":"),i(" relativePath"),s("span",{class:"token punctuation"},","),i("\n        intent"),s("span",{class:"token operator"},":"),i(" hasIntent"),s("span",{class:"token punctuation"},","),i("\n        modal"),s("span",{class:"token operator"},":"),i(" modalSettings"),s("span",{class:"token punctuation"},","),i("\n        splitView"),s("span",{class:"token operator"},":"),i(" splitViewSettings"),s("span",{class:"token punctuation"},","),i("\n        drawer"),s("span",{class:"token operator"},":"),i(" drawerSettings\n      "),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},")"),i("\n    "),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},";"),i("\n    helpers"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"sendPostMessageToLuigiCore"),s("span",{class:"token punctuation"},"("),i("navigationOpenMsg"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";"),i("\n  "),s("span",{class:"token punctuation"},"}"),i("\n")])]),s("div",{class:"line-numbers-wrapper"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br"),s("span",{class:"line-number"},"10"),s("br"),s("span",{class:"line-number"},"11"),s("br"),s("span",{class:"line-number"},"12"),s("br"),s("span",{class:"line-number"},"13"),s("br"),s("span",{class:"line-number"},"14"),s("br"),s("span",{class:"line-number"},"15"),s("br"),s("span",{class:"line-number"},"16"),s("br"),s("span",{class:"line-number"},"17"),s("br"),s("span",{class:"line-number"},"18"),s("br"),s("span",{class:"line-number"},"19"),s("br"),s("span",{class:"line-number"},"20"),s("br"),s("span",{class:"line-number"},"21"),s("br"),s("span",{class:"line-number"},"22"),s("br"),s("span",{class:"line-number"},"23"),s("br"),s("span",{class:"line-number"},"24"),s("br"),s("span",{class:"line-number"},"25"),s("br"),s("span",{class:"line-number"},"26"),s("br"),s("span",{class:"line-number"},"27"),s("br"),s("span",{class:"line-number"},"28"),s("br")])],-1),Gn=s("p",null,"其它，如生命周期等，也是类似通过发送消息的方式来实现的。",-1),$n=s("p",null,[i("整体体验下来，不是特别方便，代码有一定的侵入性。由于 "),s("code",null,"iframe"),i(" 的特性，每次切换，都要请求一下资源，略慢。")],-1),zn=i("Luigi"),Rn=i(" 体验的差不多了，下一个 "),Nn=i("EMP"),Hn={id:"emp",tabindex:"-1"},Jn=i("#"),Yn=i(" EMP"),Zn=i("通过官方仓库 "),Xn=i("EMP"),ne=i("，中"),ee=s("code",null,"projects",-1),ae=i(" 里面的示例，体验了一下。"),te=s("p",null,"整体体验下来，开发比较流畅，但是文档目前不太完善。",-1),se=i("主要原理是通过 "),re=i("webpack5"),le=i(" 的 "),oe=i("module-federation"),ie=i(" 来加载远程模块。"),pe=i("因此高度依赖 "),ue=i("webpack5"),ce=i("，对于其它打包工具,目前还不能很好的兼容。如果仅仅是当做路由框架，也是可行的。"),de=s("p",null,"因为直接暴露模块，因此没有通信和生命周期的的问题。但是样式隔离问题依旧存在，全局变量污染问题也存在。",-1),fe=i("下一个 "),he=i("Single-SPA"),ke={id:"single-spa",tabindex:"-1"},be=i("#"),Ee=i(" Single-SPA"),ge=i("粗略体验，文档完善，社区也很活跃。而且有 "),me=i("SSR"),Ae=i(" 方案。"),_e=i("Single-SPA"),we=i(" 整个文档，都在强调 "),Be=i("Single-SPA"),Se=i(" 是一种思路，具体实现方案，可自行选择。例如 "),ye=i("qiankun"),Fe=i(" 和 "),xe=i("EMP"),je=i(" 都可看作其一种具体的实现方案。"),Ce=i("Single-SPA"),Pe=i(" 建议用加载 运行时模块(runtime module) 的方式，来组织「微前端」中不同的服务，例如用，尚在提案阶段的 "),ve=i("import-maps"),De=i("，"),qe=i("import-maps 兼容性"),Le=i(" 或者 "),Te=i("webpack-module-federation"),Me=i(" 功能。"),Oe=i("官方会在处理「微前端」相关问题时，都会推荐一种实现方案，具体方案建议阅读 "),Ue=i("Single-SPA"),We=i(" 文档。"),Ke=i("下一个 "),Qe=i("QianKun"),Ve=i("，一个 "),Ie=i("Single-SPA"),Ge=i(" 的具体实现方案。"),$e={id:"qiankun",tabindex:"-1"},ze=i("#"),Re=i(" QianKun"),Ne=i("通过官方的示例，简单体验了一下，相比前几个框架，这个体验下来是最流畅的。接下来，看看 "),He=i("QianKun"),Je=i(" 中具体细节的一些处理方式。"),Ye=i("关于资源加载部分，乾坤用的是 "),Ze=i("import-html-entry"),Xe=i(" 的方式。配置就比较简单，直接给一个 "),na=s("code",null,"html",-1),ea=i(" 入口即可。基本原理是把 html 中的标签转移在当前需要挂载的 "),aa=s("code",null,"div",-1),ta=i(" 上，如果浏览器环境支持 "),sa=i("Shadow-Dom"),ra=i("，则会用 "),la=s("code",null,"shadow dom",-1),oa=i(" 来处理环境隔离，具体代码 "),ia=i("source: Shadow-Dom"),pa=i("。"),ua=i("关于 "),ca=s("code",null,"JavaScript",-1),da=i(" 执行环境，用的是 "),fa=i("import-html-entry"),ha=i(" 的 "),ka=s("code",null,"sandbox",-1),ba=i("，可保证不会污染全局变量。"),Ea=i("关于样式隔离，则是通过自动给每一条样式添加一个 "),ga=s("code",null,"scoped",-1),ma=i(" 来实现隔离 "),Aa=i("source: Css-Scoped"),_a=i("，如果支持 "),wa=i("Shadow-Dom"),Ba=i(" 则不需要处理。"),Sa=s("p",null,[i("虽然支持 "),s("code",null,"shadow-dom"),i("，但是建议不要使用 "),s("code",null,"shadow dom"),i("，因为这会导致一些其它问题，例如第三方库中的 "),s("code",null,"Modal"),i(" 无法使用。")],-1),ya=i("关于通信，"),Fa=i("QianKun"),xa=i(" 实现了一套基本的状态管理方案 "),ja=i("Global-State"),Ca=i("。具体原理，则是通过 全局 实例来处理的。"),Pa=i("source: Global-State"),va={id:"%E5%B0%8F%E7%BB%93",tabindex:"-1"},Da=i("#"),qa=i(" 小结"),La=i("准确来讲，仅有三个框架，因为 "),Ta=i("Single-SPA"),Ma=i(" 主要介绍的是理念。"),Oa=i("三个框架，各有千秋，但是 "),Ua=i("QianKun"),Wa=i(" 目前看来是相对比较好的方案，代码侵入少，环境隔离好。"),Ka=s("p",null,"具体的代码看了，接下来聊聊 「微前端」 具体解决了哪些问题。",-1),Qa={id:"%E5%BE%AE%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98",tabindex:"-1"},Va=i("#"),Ia=i(" 微前端需要解决的问题"),Ga=s("ol",null,[s("li",null,"服务更新问题"),s("li",null,"通信问题"),s("li",null,"样式隔离问题"),s("li",null,"环境隔离问题")],-1),$a={id:"%E6%9C%8D%E5%8A%A1%E6%9B%B4%E6%96%B0%E9%97%AE%E9%A2%98",tabindex:"-1"},za=i("#"),Ra=i(" 服务更新问题"),Na=s("p",null,"关于更新的问题，进一步的问题可以提炼成：关于「微前端」中的不同服务，是否需要主应用来控制版本呢？",-1),Ha=s("p",null,"我认为这个答案是否定的，不需要主应用来控制里面服务的版本，也就是主应用里面的服务，无论什么时候都是最新的版本，主应用不关心里面的服务的版本。",-1),Ja=s("p",null,"由此，也可确定，服务之间，应该尽可能的减少通信。因为频繁的通信，即可导致耦合较大，就必须要有版本控制，否则，出问题的概率就比较大。",-1),Ya={id:"%E9%80%9A%E4%BF%A1%E9%97%AE%E9%A2%98",tabindex:"-1"},Za=i("#"),Xa=i(" 通信问题"),nt=s("p",null,"有上一个问题的讨论结果，可得出，通信功能只要满足能用即可。并不要实现特别复杂的机制。",-1),et=s("p",null,"由不同「微前端」方案，也衍生出不同的通信方案：",-1),at=i("Luigi"),tt=i(" 用到的 "),st=s("code",null,"window.postMessage",-1),rt=i("Single-SPA"),lt=i(" 提到的 "),ot=s("code",null,"window.addEventListener/dispatchEvent",-1),it=i(),pt=i("source"),ut=i("EMP"),ct=i(" 中自定义的模块，则可直接暴露函数"),dt=i("QianKun"),ft=i(" 中自己实现一个 "),ht=i("Global-State"),kt={id:"%E6%A0%B7%E5%BC%8F%E9%9A%94%E7%A6%BB%E9%97%AE%E9%A2%98",tabindex:"-1"},bt=i("#"),Et=i(" 样式隔离问题"),gt=i("推荐阅读 "),mt=i("Single-SPA-CSS"),At=i("，样式隔离的一些指导和分析。"),_t=i("Single-SPA-CSS"),wt=i(" 推荐 一份公用的样式，然后每个服务的样式，都自己去借助工具或者一些技术做到自我隔离。例如 "),Bt=i("css-module"),St=i(" 技术，或者 "),yt=s("code",null,"Vue",-1),Ft=i(" 的 "),xt=s("code",null,"scoped",-1),jt=i(" 方案。"),Ct=i("但如果使用像 "),Pt=i("Luigi"),vt=i(" 这样利用 "),Dt=s("code",null,"iframe",-1),qt=i(" 的框架，则天然支持样式隔离。"),Lt=i("或者是 "),Tt=i("QianKun"),Mt=i(" 那样，加载的时候，自动添加上一层 "),Ot=s("code",null,"scope",-1),Ut=i("。"),Wt={id:"%E7%8E%AF%E5%A2%83%E9%9A%94%E7%A6%BB%E9%97%AE%E9%A2%98",tabindex:"-1"},Kt=i("#"),Qt=i(" 环境隔离问题"),Vt=s("p",null,"环境隔离，主要问题是全局环境变量的问题。要处理这个问题，第一个想到的肯定就是，人工约定一个格式，先到先得。这种方式够用，但不够友好。",-1),It=s("p",null,[i("如果是用 "),s("code",null,"iframe"),i("，则没有这个问题。")],-1),Gt=i("看 "),$t=i("QianKun"),zt=i(" 的源代码的时候，看到其用到了 "),Rt=s("code",null,"Sandbox",-1),Nt=i(" 这个东西。仔细读了读，实际上是通过 "),Ht=i("import-html-entry"),Jt=i(" 的 "),Yt=i("source: getExecutableScript"),Zt=i(" 实现的。"),Xt=s("div",{class:"language-js line-numbers-mode"},[s("div",{class:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{class:"highlighted"}," "),s("br"),s("br")]),s("pre",null,[s("code",{"v-pre":""},[s("span",{class:"token keyword"},"function"),i(),s("span",{class:"token function"},"getExecutableScript"),s("span",{class:"token punctuation"},"("),s("span",{class:"token parameter"},[i("scriptSrc"),s("span",{class:"token punctuation"},","),i(" scriptText"),s("span",{class:"token punctuation"},","),i(" proxy"),s("span",{class:"token punctuation"},","),i(" strictGlobal")]),s("span",{class:"token punctuation"},")"),i(),s("span",{class:"token punctuation"},"{"),i("\n  "),s("span",{class:"token keyword"},"const"),i(" sourceUrl "),s("span",{class:"token operator"},"="),i(),s("span",{class:"token function"},"isInlineCode"),s("span",{class:"token punctuation"},"("),i("scriptSrc"),s("span",{class:"token punctuation"},")"),i(),s("span",{class:"token operator"},"?"),i(),s("span",{class:"token string"},"''"),i(),s("span",{class:"token operator"},":"),i(),s("span",{class:"token template-string"},[s("span",{class:"token template-punctuation string"},"`"),s("span",{class:"token string"},"//# sourceURL="),s("span",{class:"token interpolation"},[s("span",{class:"token interpolation-punctuation punctuation"},"${"),i("scriptSrc"),s("span",{class:"token interpolation-punctuation punctuation"},"}")]),s("span",{class:"token string"},"\\n"),s("span",{class:"token template-punctuation string"},"`")]),i("\n\n  "),s("span",{class:"token comment"},"// 通过这种方式获取全局 window，因为 script 也是在全局作用域下运行的，所以我们通过 window.proxy 绑定时也必须确保绑定到全局 window 上"),i("\n  "),s("span",{class:"token comment"},"// 否则在嵌套场景下， window.proxy 设置的是内层应用的 window，而代码其实是在全局作用域运行的，会导致闭包里的 window.proxy 取的是最外层的微应用的 proxy"),i("\n  "),s("span",{class:"token keyword"},"const"),i(" globalWindow "),s("span",{class:"token operator"},"="),i(),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"0"),s("span",{class:"token punctuation"},","),i(" eval"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'window'"),s("span",{class:"token punctuation"},")"),i("\n  globalWindow"),s("span",{class:"token punctuation"},"."),i("proxy "),s("span",{class:"token operator"},"="),i(" proxy\n  "),s("span",{class:"token comment"},"// TODO 通过 strictGlobal 方式切换 with 闭包，待 with 方式坑趟平后再合并"),i("\n  "),s("span",{class:"token keyword"},"return"),i(" strictGlobal\n    "),s("span",{class:"token operator"},"?"),i(),s("span",{class:"token template-string"},[s("span",{class:"token template-punctuation string"},"`"),s("span",{class:"token string"},";(function(window, self, globalThis){with(window){;"),s("span",{class:"token interpolation"},[s("span",{class:"token interpolation-punctuation punctuation"},"${"),i("scriptText"),s("span",{class:"token interpolation-punctuation punctuation"},"}")]),s("span",{class:"token string"},"\\n"),s("span",{class:"token interpolation"},[s("span",{class:"token interpolation-punctuation punctuation"},"${"),i("sourceUrl"),s("span",{class:"token interpolation-punctuation punctuation"},"}")]),s("span",{class:"token string"},"}}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);"),s("span",{class:"token template-punctuation string"},"`")]),i("\n    "),s("span",{class:"token operator"},":"),i(),s("span",{class:"token template-string"},[s("span",{class:"token template-punctuation string"},"`"),s("span",{class:"token string"},";(function(window, self, globalThis){;"),s("span",{class:"token interpolation"},[s("span",{class:"token interpolation-punctuation punctuation"},"${"),i("scriptText"),s("span",{class:"token interpolation-punctuation punctuation"},"}")]),s("span",{class:"token string"},"\\n"),s("span",{class:"token interpolation"},[s("span",{class:"token interpolation-punctuation punctuation"},"${"),i("sourceUrl"),s("span",{class:"token interpolation-punctuation punctuation"},"}")]),s("span",{class:"token string"},"}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);"),s("span",{class:"token template-punctuation string"},"`")]),i("\n"),s("span",{class:"token punctuation"},"}"),i("\n")])]),s("div",{class:"line-numbers-wrapper"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br"),s("span",{class:"line-number"},"10"),s("br"),s("span",{class:"line-number"},"11"),s("br"),s("span",{class:"line-number"},"12"),s("br")])],-1),ns=s("p",null,[i("核心代码，就是 "),s("code",null,";(function(window, self, globalThis){;${scriptText}\\n${sourceUrl}}).bind(window.proxy)(window.proxy, window.proxy, window.proxy)"),i(" 这一句了。在运行代码的时候，通过闭包机制，替换 "),s("code",null,"window,self,globalThis"),i(" 三个变量。")],-1),es=s("p",null,"我个人认为，这个方面就看情况了，如果开箱支持，那就用。如果不支持，那也没有必要非得用这种方式，就「约定」的方式也挺好的， 也没什么大问题。",-1),as={id:"%E9%9C%80%E8%A6%81%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%90%97%EF%BC%9F",tabindex:"-1"},ts=i("#"),ss=i(" 需要微前端吗？"),rs=s("p",null,"现在，对微前端有了一个整体的认识，我们真的需要微前端吗？",-1),ls=s("p",null,[i("这个问题，每个人的看法不一样，"),s("strong",null,"这里我就随便聊聊，看看就完事了，当真就输了。是否真的需要，还需自己考虑。")],-1),os=s("p",null,"整体来讲，「微前端」在我看来，应用场景有限，入门需要一定的成本，虽然可以分离业务，也有很多优点。",-1),is=i("但是缺点也很明显，成本上去了，团队交流成本，开发成本都上升了。举一个小例子，有个需求需要应用 A 支持一下，但是应用 A 是其它团队负责，原本估计一天就能搞定的事情，经过交流，确认，最后开发，要三天才能搞定。 在 "),ps=i("qiankun-技术圆桌"),us=i(" 中也提到过，「微前端」的目的是为了支持不同的技术栈（这点可推导出是为了支持不同的开发团队）。"),cs=s("p",null,"因此，在我看来，在项目没有大到一定程度（必须要跨团队）的时候，没必要考虑「微前端」。",-1),ds={id:"%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB",tabindex:"-1"},fs=i("#"),hs=i(" 推荐阅读"),ks=i("micro-frontends"),bs=i("，一篇对「微前端」简单介绍的文章。"),Es=i("martinfowler-micro-frontends"),gs=i("，分析「微前端」的优劣势，和一些实现方案以及细节处理方式。"),ms=i("qiankun-技术圆桌"),As=i("，探讨「微前端」的目的，使命。"),_s=i("Single-SPA Concept"),ws=i("，「微前端」概念介绍，以及开发方向指导。"),Bs=i("Single-SPA Recommended-setup"),Ss=i("，「微前端」推荐实现方案。"),ys={id:"%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE",tabindex:"-1"},Fs=i("#"),xs=i(" 参考文献"),js=i("micro-frontends"),Cs=i("martinfowler-micro-frontends"),Ps=i("web-component"),vs=i("qiankun-技术圆桌"),Ds=i("webpack-module-federation"),qs=i("luigi"),Ls=i("emp"),Ts=i("single-spa"),Ms=i("qiankun"),Os=i("webpack5"),Us=i("single-spa-css"),Ws=i("import-html-entry"),Ks=i("global-state"),Qs=i("shadow-dom"),Vs={setup(o,{expose:i}){i({frontmatter:{title:"微前端",date:"2021-06-01T02:03:01.122Z",tags:["micro-frontend","web"],meta:[{property:"og:title",content:"微前端"}]}});return e({title:"微前端",meta:[{property:"og:title",content:"微前端"}]}),(e,o)=>{const i=n;return a(),t("div",p,[u,s("h2",c,[r(i,{class:"header-anchor",href:"#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BE%AE%E5%89%8D%E7%AB%AF%EF%BC%9F","aria-hidden":"true"},{default:l((()=>[d])),_:1}),f]),s("p",null,[h,r(i,{href:"https://micro-frontends.org/",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[k])),_:1}),b]),E,s("h2",g,[r(i,{class:"header-anchor",href:"#%E9%82%A3%E4%B9%88%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%88%B0%E5%BA%95%E8%A7%A3%E5%86%B3%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%9F","aria-hidden":"true"},{default:l((()=>[m])),_:1}),A]),_,w,B,S,y,F,s("p",null,[x,r(i,{href:"https://www.yuque.com/kuitos/gky7yw/rhduwc",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[j])),_:1}),C]),P,v,D,s("h2",q,[r(i,{class:"header-anchor",href:"#%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E8%BF%99%E4%BA%9B%E9%97%AE%E9%A2%98%E7%9A%84%EF%BC%9F","aria-hidden":"true"},{default:l((()=>[L])),_:1}),T]),M,O,U,W,s("h3",K,[r(i,{class:"header-anchor",href:"#npm-package-%2F-git-submodule","aria-hidden":"true"},{default:l((()=>[Q])),_:1}),V]),I,s("h3",G,[r(i,{class:"header-anchor",href:"#iframe","aria-hidden":"true"},{default:l((()=>[$])),_:1}),z]),R,N,s("h3",H,[r(i,{class:"header-anchor",href:"#micro-frontend-%E6%A1%86%E6%9E%B6","aria-hidden":"true"},{default:l((()=>[J])),_:1}),Y]),Z,s("ul",null,[s("li",null,[X,r(i,{href:"https://github.com/SAP/luigi",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[nn])),_:1}),en]),s("li",null,[an,r(i,{href:"https://github.com/efoxTeam/emp",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[tn])),_:1}),sn]),s("li",null,[rn,r(i,{href:"https://github.com/Single-SPA/Single-SPA",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ln])),_:1}),on]),s("li",null,[pn,r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[un])),_:1}),cn])]),dn,s("h2",fn,[r(i,{class:"header-anchor",href:"#%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E4%BD%93%E9%AA%8C","aria-hidden":"true"},{default:l((()=>[hn])),_:1}),kn]),bn,s("h3",En,[r(i,{class:"header-anchor",href:"#luigi","aria-hidden":"true"},{default:l((()=>[gn])),_:1}),mn]),s("p",null,[An,r(i,{href:"https://github.com/SAP/luigi",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[_n])),_:1}),wn,Bn,Sn]),s("p",null,[yn,r(i,{href:"https://docs.luigi-project.io/docs/luigi-core-api?section=luigi-config",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Fn])),_:1}),xn,r(i,{href:"https://github.com/SAP/luigi",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[jn])),_:1}),Cn,Pn,vn]),s("p",null,[Dn,qn,Ln,r(i,{href:"https://github.com/SAP/luigi/blob/883c3924cf2ae83fce400cbfd7bf84f8c11359d7/client/src/helpers.js#L111-L119",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Tn])),_:1})]),Mn,s("p",null,[On,Un,Wn,Kn,Qn,r(i,{href:"https://github.com/SAP/luigi/blob/883c3924cf2ae83fce400cbfd7bf84f8c11359d7/client/src/linkManager.js#L56-L83",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Vn])),_:1})]),In,Gn,$n,s("p",null,[r(i,{href:"https://github.com/SAP/luigi",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[zn])),_:1}),Rn,r(i,{href:"https://github.com/efoxTeam/emp",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Nn])),_:1})]),s("h3",Hn,[r(i,{class:"header-anchor",href:"#emp","aria-hidden":"true"},{default:l((()=>[Jn])),_:1}),Yn]),s("p",null,[Zn,r(i,{href:"https://github.com/efoxTeam/emp",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Xn])),_:1}),ne,ee,ae]),te,s("p",null,[se,r(i,{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[re])),_:1}),le,r(i,{href:"https://webpack.js.org/concepts/module-federation/",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[oe])),_:1}),ie]),s("p",null,[pe,r(i,{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ue])),_:1}),ce]),de,s("p",null,[fe,r(i,{href:"https://github.com/single-spa/single-spa",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[he])),_:1})]),s("h3",ke,[r(i,{class:"header-anchor",href:"#single-spa","aria-hidden":"true"},{default:l((()=>[be])),_:1}),Ee]),s("p",null,[ge,r(i,{href:"https://single-spa.js.org/docs/ssr-overview",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[me])),_:1}),Ae]),s("p",null,[r(i,{href:"https://github.com/single-spa/single-spa",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[_e])),_:1}),we,r(i,{href:"https://github.com/single-spa/single-spa",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Be])),_:1}),Se,r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ye])),_:1}),Fe,r(i,{href:"https://github.com/efoxTeam/emp",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[xe])),_:1}),je]),s("p",null,[r(i,{href:"https://github.com/single-spa/single-spa",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ce])),_:1}),Pe,r(i,{href:"https://github.com/WICG/import-maps",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ve])),_:1}),De,r(i,{href:"https://caniuse.com/import-maps",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[qe])),_:1}),Le,r(i,{href:"https://webpack.js.org/concepts/module-federation/",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Te])),_:1}),Me]),s("p",null,[Oe,r(i,{href:"https://github.com/single-spa/single-spa",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ue])),_:1}),We]),s("p",null,[Ke,r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Qe])),_:1}),Ve,r(i,{href:"https://github.com/single-spa/single-spa",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ie])),_:1}),Ge]),s("h3",$e,[r(i,{class:"header-anchor",href:"#qiankun","aria-hidden":"true"},{default:l((()=>[ze])),_:1}),Re]),s("p",null,[Ne,r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[He])),_:1}),Je]),s("p",null,[Ye,r(i,{href:"https://github.com/kuitos/import-html-entry",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ze])),_:1}),Xe,na,ea,aa,ta,r(i,{href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[sa])),_:1}),ra,la,oa,r(i,{href:"https://github.com/umijs/qiankun/blob/972872f5fe62ca87b6911fbe8c62b389ac65f9c5/src/loader.ts#L75-L92",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ia])),_:1}),pa]),s("p",null,[ua,ca,da,r(i,{href:"https://github.com/kuitos/import-html-entry",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[fa])),_:1}),ha,ka,ba]),s("p",null,[Ea,ga,ma,r(i,{href:"https://github.com/umijs/qiankun/blob/972872f5fe62ca87b6911fbe8c62b389ac65f9c5/src/loader.ts#L95-L105",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Aa])),_:1}),_a,r(i,{href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[wa])),_:1}),Ba]),Sa,s("p",null,[ya,r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Fa])),_:1}),xa,r(i,{href:"https://qiankun.umijs.org/api#initglobalstatestate",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ja])),_:1}),Ca,r(i,{href:"https://github.com/umijs/qiankun/blob/HEAD/src/globalState.ts",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Pa])),_:1})]),s("h3",va,[r(i,{class:"header-anchor",href:"#%E5%B0%8F%E7%BB%93","aria-hidden":"true"},{default:l((()=>[Da])),_:1}),qa]),s("p",null,[La,r(i,{href:"https://github.com/single-spa/single-spa",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ta])),_:1}),Ma]),s("p",null,[Oa,r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ua])),_:1}),Wa]),Ka,s("h2",Qa,[r(i,{class:"header-anchor",href:"#%E5%BE%AE%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98","aria-hidden":"true"},{default:l((()=>[Va])),_:1}),Ia]),Ga,s("h3",$a,[r(i,{class:"header-anchor",href:"#%E6%9C%8D%E5%8A%A1%E6%9B%B4%E6%96%B0%E9%97%AE%E9%A2%98","aria-hidden":"true"},{default:l((()=>[za])),_:1}),Ra]),Na,Ha,Ja,s("h3",Ya,[r(i,{class:"header-anchor",href:"#%E9%80%9A%E4%BF%A1%E9%97%AE%E9%A2%98","aria-hidden":"true"},{default:l((()=>[Za])),_:1}),Xa]),nt,et,s("ol",null,[s("li",null,[r(i,{href:"https://github.com/SAP/luigi",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[at])),_:1}),tt,st]),s("li",null,[r(i,{href:"https://github.com/single-spa/single-spa",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[rt])),_:1}),lt,ot,it,r(i,{href:"https://single-spa.js.org/docs/recommended-setup/#ui-state",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[pt])),_:1})]),s("li",null,[r(i,{href:"https://github.com/efoxTeam/emp",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ut])),_:1}),ct]),s("li",null,[r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[dt])),_:1}),ft,r(i,{href:"https://qiankun.umijs.org/api#initglobalstatestate",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ht])),_:1})])]),s("h3",kt,[r(i,{class:"header-anchor",href:"#%E6%A0%B7%E5%BC%8F%E9%9A%94%E7%A6%BB%E9%97%AE%E9%A2%98","aria-hidden":"true"},{default:l((()=>[bt])),_:1}),Et]),s("p",null,[gt,r(i,{href:"https://single-spa.js.org/docs/ecosystem-css",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[mt])),_:1}),At]),s("p",null,[r(i,{href:"https://single-spa.js.org/docs/ecosystem-css",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[_t])),_:1}),wt,r(i,{href:"https://github.com/css-modules/css-modules",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Bt])),_:1}),St,yt,Ft,xt,jt]),s("p",null,[Ct,r(i,{href:"https://github.com/SAP/luigi",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Pt])),_:1}),vt,Dt,qt]),s("p",null,[Lt,r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Tt])),_:1}),Mt,Ot,Ut]),s("h3",Wt,[r(i,{class:"header-anchor",href:"#%E7%8E%AF%E5%A2%83%E9%9A%94%E7%A6%BB%E9%97%AE%E9%A2%98","aria-hidden":"true"},{default:l((()=>[Kt])),_:1}),Qt]),Vt,It,s("p",null,[Gt,r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[$t])),_:1}),zt,Rt,Nt,r(i,{href:"https://github.com/kuitos/import-html-entry",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ht])),_:1}),Jt,r(i,{href:"https://github.com/kuitos/import-html-entry/blob/ab3e788ee868177ecf407f79b00d52ca2e2cdd47/src/index.js#L52-L63",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Yt])),_:1}),Zt]),Xt,ns,es,s("h2",as,[r(i,{class:"header-anchor",href:"#%E9%9C%80%E8%A6%81%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%90%97%EF%BC%9F","aria-hidden":"true"},{default:l((()=>[ts])),_:1}),ss]),rs,ls,os,s("p",null,[is,r(i,{href:"https://www.yuque.com/kuitos/gky7yw/rhduwc",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ps])),_:1}),us]),cs,s("h2",ds,[r(i,{class:"header-anchor",href:"#%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB","aria-hidden":"true"},{default:l((()=>[fs])),_:1}),hs]),s("ul",null,[s("li",null,[r(i,{href:"https://micro-frontends.org/",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ks])),_:1}),bs]),s("li",null,[r(i,{href:"https://martinfowler.com/articles/micro-frontends.html",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Es])),_:1}),gs]),s("li",null,[r(i,{href:"https://www.yuque.com/kuitos/gky7yw/rhduwc",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[ms])),_:1}),As]),s("li",null,[r(i,{href:"https://single-spa.js.org/docs/microfrontends-concept",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[_s])),_:1}),ws]),s("li",null,[r(i,{href:"https://single-spa.js.org/docs/recommended-setup",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Bs])),_:1}),Ss])]),s("h2",ys,[r(i,{class:"header-anchor",href:"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE","aria-hidden":"true"},{default:l((()=>[Fs])),_:1}),xs]),s("ul",null,[s("li",null,[r(i,{href:"https://micro-frontends.org/",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[js])),_:1})]),s("li",null,[r(i,{href:"https://martinfowler.com/articles/micro-frontends.html",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Cs])),_:1})]),s("li",null,[r(i,{href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ps])),_:1})]),s("li",null,[r(i,{href:"https://www.yuque.com/kuitos/gky7yw/rhduwc",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[vs])),_:1})]),s("li",null,[r(i,{href:"https://webpack.js.org/concepts/module-federation/",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ds])),_:1})]),s("li",null,[r(i,{href:"https://github.com/SAP/luigi",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[qs])),_:1})]),s("li",null,[r(i,{href:"https://github.com/efoxTeam/emp",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ls])),_:1})]),s("li",null,[r(i,{href:"https://github.com/single-spa/single-spa",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ts])),_:1})]),s("li",null,[r(i,{href:"https://github.com/umijs/qiankun",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ms])),_:1})]),s("li",null,[r(i,{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Os])),_:1})]),s("li",null,[r(i,{href:"https://single-spa.js.org/docs/ecosystem-css",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Us])),_:1})]),s("li",null,[r(i,{href:"https://github.com/kuitos/import-html-entry",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ws])),_:1})]),s("li",null,[r(i,{href:"https://qiankun.umijs.org/api#initglobalstatestate",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Ks])),_:1})]),s("li",null,[r(i,{href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM",target:"_blank",rel:"noopener noreferrer"},{default:l((()=>[Qs])),_:1})])])])}}};export{Vs as default};
